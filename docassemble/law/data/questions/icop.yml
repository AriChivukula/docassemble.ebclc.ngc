---
modules:
  - docassemble.base.util
---
metadata:
  title: ICOP Observation Form
---
field: get_started
question: |
  This demo helps you fill out the ICOP Observation Form!
subquestion: >
  [THIS IS CODE, NOT LEGAL ADVICE](https://github.com/AriChivukula/
  docassemble.law/blob/master/docassemble/law/data/questions/icop.yml)
continue button label: Get Started
---
question: |
  You
subquestion: |
  Please enter the observer's (your) information!
fields:
  - Name: you_name
  - School/Firm/etc.: you_assoc
  - Phone: you_phone
  - Email: you_email
---
question: |
  Proceeding
subquestion: |
  Please enter information on the proceeding you're observing ${you_name}!
fields:
  - When: proceeding_when
    datatype: datetime
  - Judge: proceeding_judge
  - Case: proceeding_case
    default: A-
  - Type: proceeding_type
    choices:
      - Master Calendar: master
      - Bond Hearing: bond
---
question: |
  Detainee
subquestion: |
  Please enter information for detainee in proceeding ${proceeding_case}!
fields:
  - Name: detainee_name
  - How did they appear?: detainee_appearance
    choices:
      - In Person: ip
      - Video Conference: vtc
  - Languages Spoken: detainee_languages
  - Where are they being detained?: detainee_location
    choices:
      - Sacramento/Yuba: yuba
      - Meta Verde: mv
      - CoCo: cc
  - Do they have representation?: detainee_representation
    choices:
      - Yes: True
      - No: False
  - Who?: detainee_representation_info
    show if:
      variable: detainee_representation
      is: True
  - Was a continuance to find representation granted?: detainee_continuance
    choices:
      - Yes: True
      - No: False
    show if:
      variable: detainee_representation
      is: False
  - How Long?: detainee_continuance_length
    show if:
      variable: detainee_continuance
      is: True
  - Why?: detainee_continuance_denial
    show if:
      variable: detainee_continuance
      is: False
---
question: |
  Context
subquestion: |
  Please enter information on what you observe in ${proceeding_case}!
fields:
  - Did the detainee have trouble communicating with the judge?: context_judge
    choices:
      - Yes: True
      - No: False
  - How so?: context_judge_info
    show if:
      variable: context_judge
      is: True
  - Did the detainee have trouble communicating with anyone else?: context_anyone
    choices:
      - Yes: True
      - No: False
  - With who?: context_anyone_who
    show if:
      variable: context_anyone
      is: True
  - How so?: context_anyone_info
    show if:
      variable: context_anyone
      is: True
  - Where there issues with interpretation?: context_interpretation
    choices:
      - Yes: True
      - No: False
  - How so?: context_interpretation_info
    show if:
      variable: context_interpretation
      is: True
  - Where there signs the detainee suffers from mental illness?: context_illness
    choices:
      - Yes: True
      - No: False
  - How so?: context_illness_info
    show if:
      variable: context_illness
      is: True
  - How was it addressed?: context_illness_addressed
    show if:
      variable: context_illness
      is: True
---
question: |
  Outcomes
subquestion: |
  Please enter information on outcomes in ${proceeding_case}!
fields:
  - Did detainee file any application for relief?: outcomes_relief
    choices:
      - Yes: True
      - No: False
  - What were they?: outcomes_relief_info
    show if:
      variable: outcomes_relief
      is: True
  - What is the deadline?: outcomes_relief_deadline
    show if:
      variable: outcomes_relief
      is: True
---
question: |
  Outcomes
subquestion: |
  Please enter information on outcomes in ${proceeding_case}!
fields:
  - Did IJ grant bond?: outcomes_bond
    choices:
      - Yes: True
      - No: False
  - Amount: outcomes_bond_info
    show if:
      variable: outcomes_bond
      is: True
  - Reason: outcomes_bond_denied
    show if:
      variable: outcomes_bond
      is: False
---
question: |
  Next
subquestion: |
  Please enter information on the next hearing (if there is one)!
fields:
  - Next Hearing: next_date
    datatype: datetime
    required: False
  - Type: next_type
    choices:
      - Individual
      - Master
      - Bond
    js show if: |
      val("next_date")
---
question: |
  Comments
subquestion: |
  Please enter anything else we should know!
fields:
  - Anything Else: comments
    datatype: area
    required: false
---
mandatory: True
code: |
  get_started
  you_name
  proceeding_when
  detainee_name
  context_judge
  if proceeding_type == "master":
    outcomes_relief
  elif proceeding_type == "bond":
    outcomes_bond
  next_date
  comments
  do_exit
---
question: |
  Thanks for volunteering ${you_name}
sets: do_exit
